% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bln_field_optimiser.R
\name{bln_field_optimiser}
\alias{bln_field_optimiser}
\title{Optimize the crop rotation plan for soil quality improvement}
\usage{
bln_field_optimiser(
  ID,
  B_LU_BRP,
  B_SC_WENR,
  B_GWL_CLASS,
  B_SOILTYPE_AGR,
  B_HELP_WENR,
  B_AER_CBS,
  B_GWL_GLG,
  B_GWL_GHG,
  B_GWL_ZCRIT,
  B_DRAIN,
  B_FERT_NORM_FR,
  B_SLOPE_DEGREE,
  B_GWP,
  B_AREA_DROUGHT,
  B_CT_PSW,
  B_CT_NSW,
  B_SOMERS_BC,
  B_DRAIN_SP,
  B_DRAIN_WP,
  A_SOM_LOI,
  A_CLAY_MI,
  A_SAND_MI,
  A_SILT_MI,
  A_FE_OX,
  A_AL_OX,
  A_PH_CC,
  A_N_RT,
  A_CN_FR,
  A_S_RT,
  A_N_PMN,
  A_P_AL,
  A_P_CC,
  A_P_WA,
  A_P_SG,
  A_CEC_CO,
  A_CA_CO_PO,
  A_MG_CO_PO,
  A_K_CO_PO,
  A_K_CC,
  A_MG_CC,
  A_MN_CC,
  A_ZN_CC,
  A_CU_CC,
  D_SA_W,
  D_RO_R,
  M_COMPOST,
  M_GREEN,
  A_DENSITY_SA = NA_real_,
  B_LSW_ID = NA_character_,
  LSW = NULL,
  i_clim_rothc = NA_real_,
  A_SOM_LOI_MLMAX = NA_real_,
  foptim = list(scenarios = NULL, b_lu_brp = NULL, outputtype = "rotation", mc = TRUE,
    runrothc = TRUE)
)
}
\arguments{
\item{ID}{(character) A fieldid}

\item{B_LU_BRP}{(numeric) a series with crop codes given the crop rotation plan (source: the BRP)}

\item{B_SC_WENR}{(character) The risk for subsoil compaction as derived from risk assessment study of Van den Akker (2006).}

\item{B_GWL_CLASS}{(character) The groundwater table class}

\item{B_SOILTYPE_AGR}{(character) The agricultural type of soil}

\item{B_HELP_WENR}{(character) The soil type abbreviation, derived from 1:50.000 soil map}

\item{B_AER_CBS}{(character) The agricultural economic region in the Netherlands (CBS, 2016)}

\item{B_GWL_GLG}{(numeric) The lowest groundwater level averaged over the most dry periods in 8 years in cm below ground level}

\item{B_GWL_GHG}{(numeric) The highest groundwater level averaged over the most wet periods in 8 years in cm below ground level}

\item{B_GWL_ZCRIT}{(numeric) The distance between ground level and groundwater level at which the groundwater can supply the soil surface with 2mm water per day (in cm)}

\item{B_DRAIN}{(boolean) Are drains installed to drain the field (options: yes or no)}

\item{B_FERT_NORM_FR}{(numeric) The fraction of the application norm utilized}

\item{B_SLOPE_DEGREE}{(numeric) The slope of the field (degrees)}

\item{B_GWP}{(boolean) is the field located in a groundwater protected area (options: TRUE or FALSE)}

\item{B_AREA_DROUGHT}{(boolean) is the field located in an area with high risks for water deficiencies (options: TRUE or FALSE)}

\item{B_CT_PSW}{(numeric) the critical target for required reduction in P loss from agriculture (kg P / ha) to reach targets of KRW}

\item{B_CT_NSW}{(numeric) the critical target for required reduction in N loss from agriculture (kg N / ha) to reach targets of KRW}

\item{B_SOMERS_BC}{(integer) The base combination of SOMERS peat soil classification (varies between 1 and 290)}

\item{B_DRAIN_SP}{(numeric) the drooglegging of a field in summer (difference field height and ditch level, in meters)}

\item{B_DRAIN_WP}{(numeric) the drooglegging of a field in winter (difference field height and ditch level, in meters)}

\item{A_SOM_LOI}{(numeric) The percentage organic matter in the soil (\%)}

\item{A_CLAY_MI}{(numeric) The clay content of the soil (\%)}

\item{A_SAND_MI}{(numeric) The sand content of the soil (\%)}

\item{A_SILT_MI}{(numeric) The silt content of the soil (\%)}

\item{A_FE_OX}{(numeric) The aluminium content of soil (mmol / kg)}

\item{A_AL_OX}{(numeric) The iron content of soil (mmol / kg)}

\item{A_PH_CC}{(numeric) The acidity of the soil, measured in 0.01M CaCl2 (-)}

\item{A_N_RT}{(numeric) The organic nitrogen content of the soil in mg N / kg}

\item{A_CN_FR}{(numeric) The carbon to nitrogen ratio (-)}

\item{A_S_RT}{(numeric) The total Sulfur content of the soil (in mg S per kg)}

\item{A_N_PMN}{(numeric) The potentially mineralizable N pool (mg N / kg soil)}

\item{A_P_AL}{(numeric) The P-AL content of the soil}

\item{A_P_CC}{(numeric) The plant available P content, extracted with 0.01M CaCl2 (mg / kg)}

\item{A_P_WA}{(numeric) The P-content of the soil extracted with water (mg P2O5 / 100 ml soil)}

\item{A_P_SG}{(numeric) The P-saturation index (\%)}

\item{A_CEC_CO}{(numeric) The cation exchange capacity of the soil (mmol+ / kg), analyzed via Cobalt-hexamine extraction}

\item{A_CA_CO_PO}{(numeric) The The occupation of the CEC with Ca (\%)}

\item{A_MG_CO_PO}{(numeric) The The occupation of the CEC with Mg (\%)}

\item{A_K_CO_PO}{(numeric) The occupation of the CEC with K (\%)}

\item{A_K_CC}{(numeric) The plant available K content, extracted with 0.01M CaCl2 (mg / kg)}

\item{A_MG_CC}{(numeric) The plant available Mg content, extracted with 0.01M CaCl2 (ug / kg)}

\item{A_MN_CC}{(numeric) The plant available Mn content, extracted with 0.01M CaCl2 (ug / kg)}

\item{A_ZN_CC}{(numeric) The plant available Zn content, extracted with 0.01M CaCl2 (ug / kg)}

\item{A_CU_CC}{(numeric) The plant available Cu content, extracted with 0.01M CaCl2 (ug / kg)}

\item{D_SA_W}{(numeric) The wet perimeter index of the field, fraction that field is surrounded by water}

\item{D_RO_R}{(numeric) The risk that surface water runs off the parcel}

\item{M_COMPOST}{(numeric) The frequency that compost is applied (optional, every x years)}

\item{M_GREEN}{(boolean) A soil measure. Are catch crops sown after main crop (optional, option: yes or no)}

\item{A_DENSITY_SA}{(numeric) The bulk density of the soil (kg/m3)}

\item{B_LSW_ID}{(character) An unique identifier for each Local Surface Water per field}

\item{LSW}{(data.table) The averaged soil properties (mean and sd) per Local Surface Water. Can be derived from bbwp_lsw_properties.}

\item{i_clim_rothc}{(numeric) the soil indicator for carbon saturation derived via rothc.}

\item{A_SOM_LOI_MLMAX}{(numeric) The max. percentage organc matter estimated via machine learning model (\%)}

\item{foptim}{(list) a list with options to guide the identification of suitable crop rotation schemes}
}
\description{
This function estimates what crop rotation plan is mosts suited for the current soil quality and the associated contribution to ecysystem services
}
\details{
the foptim is a list with parameters affecting the selection of best crop rotation plans.
the parameter outputtype gives the user the possibility to select specific outcomes:
scores (gives all scores per rotation)
indicators (gives the indicator values per rotation)
bottlenecks (gives the number of bottlenecks per rotation)
rotation (gives the best rotation for BLN total, per ESD and OBI)
all (all output options)
The parameter b_lu_brp allows the user to send an user defined crop rotation using BRP codes. This will replace the default scenarios as long as the parameter scenarios is NULL.
The parameter scenarios allows the user to select only specific crop rotation scenarios from the package table `bln_scen_croprotation`
}
